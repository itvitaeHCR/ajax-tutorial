<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX 1 - from txt</title>
</head>

<body>

    <button id="button1">CLICK HERE</button>
    <br><br><br>
    <div id="text"></div>




    <script>

        // FROM OTHER TUTORIAL
        //request.open("GET", "https://jsonplaceholder.typicode.com/users") 
        //request.send();
        //request.onload = () => {
        //    console.log(request)
        //};

        // Create event listener
        document.getElementById('button1').addEventListener('click', loadText);

        function loadText() {
            console.log('button clicked')
            // create XHR Object
            const xhr = new XMLHttpRequest();
            // OPEN (type, url, async)
            console.log(xhr); // just checking
            xhr.open('GET', 'sample.txt', true);

            xhr.onload = function () {
                if (this.status == 200) {
                    document.getElementById('text').innerHTML = this.responseText;
                }
                else if(this.status==404){
                    document.getElementById('text').innerHTML = 'Error 404: page not found';
                }
            }

            // OPTIONAL - for loaders
            xhr.onprogress = function(){
                console.log('READYSTATE: ', xhr.readyState)
                // insert loading animation here
            }

            xhr.onerror = function () {
                console.log('request error')
            }

            //sends request
            xhr.send();
        }


    </script>

</body>

</html>